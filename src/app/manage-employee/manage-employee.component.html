<div class="container  mt-5">
    <form action="" [formGroup]='myForm' (ngSubmit)='submit()'>
        <div style="padding: 15px; border-width: 2px; border-radius: 10px;">
            <h3 style="font-weight:bolder;font-size:24px;">Manage Employee</h3><br>
            <div class="row">
                <div class="col col-md-6 col-sm-6 col-lg-6">
                    <div class="form-group">
                        <label for="" id='label' class="go-bottom">User Name <span class="text-danger">*</span></label>
                        <input type="text" formControlName='userName' name='userName' class="form-control" [class.is-invalid]='userName.invalid && userName.touched' [class.is-valid]='userName.valid' (blur)='fetchUserDetails(userName.value)'>
                        <div *ngIf='userName.invalid && userName.touched'>
                            <small class="text-danger" *ngIf='userName.errors.required'>*this field is required</small>
                        </div>
                    </div>
                </div>
                <div class="col col-md-6 col-sm-6 col-lg-6">
                    <div class="form-group">
                        <label for="" id='label'>Full Name <span class="text-danger">*</span></label>
                        <input type="text" formControlName='fullName' name='fullName' class="form-control" [class.is-invalid]='fullName.invalid && fullName.touched' [class.is-valid]='fullName.valid'>
                        <div *ngIf='fullName.invalid && fullName.touched'>
                            <small class="text-danger" *ngIf='fullName.errors.required'>*this field is required</small>
                        </div>
                    </div>
                </div>
                <div class="col col-md-6 col-sm-6 col-lg-6">
                    <div class="form-group">
                        <label for="" id='label'>TY Employee ID <span class="text-danger">*</span></label>
                        <input type="text" formControlName='tyEmployeeID' name='tyEmployeeID' class="form-control" [class.is-invalid]='tyEmployeeID.invalid && tyEmployeeID.touched' [class.is-valid]='tyEmployeeID.valid'>
                        <div *ngIf='tyEmployeeID.invalid && tyEmployeeID.touched'>
                            <small class="text-danger" *ngIf='tyEmployeeID.errors.required'>*this field is required</small>
                        </div>
                    </div>
                </div>
                <div class="col col-md-6 col-sm-6 col-lg-6">
                    <div class="form-group">
                        <label for="" id='label'>Mobile NO. <span class="text-danger">*</span></label>
                        <input type="text" formControlName='mobileNo' name='mobileNo' class="form-control" [class.is-invalid]='mobileNo.invalid && mobileNo.touched' [class.is-valid]='mobileNo.valid'>
                        <div *ngIf='mobileNo.invalid && mobileNo.touched'>
                            <small class="text-danger" *ngIf='mobileNo.errors.required'>*this field is required</small>
                        </div>
                    </div>
                </div>
                <div class="col col-md-6 col-sm-6 col-lg-6">
                    <div class="form-group">
                        <label for="" id='label'>Unit <span class="text-danger">*</span></label>
                        <input type="text" formControlName='ourBussinessUnit' name='ourBussinessUnit' class="form-control" [class.is-invalid]='ourBussinessUnit.invalid && ourBussinessUnit.touched' [class.is-valid]='ourBussinessUnit.valid'>
                        <div *ngIf='ourBussinessUnit.invalid && ourBussinessUnit.touched'>
                            <small class="text-danger" *ngIf='ourBussinessUnit.errors.required'>*this field is required</small>
                        </div>
                    </div>
                </div>
            </div>
            <button type="submit" class="btn btn-outline-success float-right col-md-2">submit</button>
        </div>
    </form>
</div>


<div class="mt-5" style="padding: 0px 130px 0px 130px;" *ngIf='table'>
    <table class="table table-hover">
        <thead>
            <tr>
                <th scope="col">Sl.No</th>
                <th scope="col">Profile ID</th>
                <th scope="col">User Name</th>
                <th scope="col">Email</th>
                <th scope="col">Mobile No.</th>
                <th scope="col">TY Employee ID</th>
                <th scope="col">Annual CTC</th>
                <th scope="col">Employee Type</th>
                <th scope="col">Our Business Unit</th>
                <th scope="col">PAN</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor='let user of userDetails'>
                <th scope="row">{{user.slNo}}</th>
                <td>{{user.profile_ID}}</td>
                <td>{{user.userName}}</td>
                <td>{{user.email}}</td>
                <td>{{user.mobileNo}}</td>
                <td>{{user.tyEmployeeID}}</td>
                <td>{{user.annualCTC}}</td>
                <td>{{user.employeeType}}</td>
                <td>{{user.ourBussinessUnit}}</td>
                <td>{{user.pan}}</td>
            </tr>
        </tbody>
    </table>
</div>